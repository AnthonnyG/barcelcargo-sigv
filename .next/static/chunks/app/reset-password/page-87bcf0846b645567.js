(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[700],{1271:(e,s,a)=>{Promise.resolve().then(a.bind(a,6531))},6531:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>u});var t=a(5155),r=a(2115),n=a(8076);function o(){let e=(0,n.useSearchParams)(),s=(0,n.useRouter)(),a=e.get("token"),[o,u]=(0,r.useState)(""),[l,i]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),[h,m]=(0,r.useState)(""),p=async e=>{if(e.preventDefault(),!a)return void m("Link de recupera\xe7\xe3o inv\xe1lido.");if(o!==l)return void m("As passwords n\xe3o coincidem.");let t=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:a,password:o})}),r=await t.json();r.success?(d("Palavra-passe atualizada com sucesso."),m(""),u(""),i(""),setTimeout(()=>s.push("/login"),2e3)):(m(r.error||"Erro ao atualizar palavra-passe."),d(""))};return(0,t.jsx)("div",{className:"min-h-screen bg-[#0f172a] text-white flex items-center justify-center px-4",children:(0,t.jsxs)("form",{onSubmit:p,className:"bg-[#1e293b] p-8 rounded-2xl shadow-xl w-full max-w-sm space-y-4",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("img",{src:"/logo.jpg",alt:"Logo",className:"w-24 h-24 mb-3"}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Nova Password"})]}),(0,t.jsx)("input",{type:"password",placeholder:"Nova Password",value:o,onChange:e=>u(e.target.value),className:"w-full p-3 rounded bg-[#0f172a] text-white placeholder-gray-400 focus:outline-none",required:!0}),(0,t.jsx)("input",{type:"password",placeholder:"Confirmar Password",value:l,onChange:e=>i(e.target.value),className:"w-full p-3 rounded bg-[#0f172a] text-white placeholder-gray-400 focus:outline-none",required:!0}),h&&(0,t.jsx)("p",{className:"text-red-500 text-sm",children:h}),c&&(0,t.jsx)("p",{className:"text-green-500 text-sm",children:c}),(0,t.jsx)("button",{type:"submit",className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 rounded",children:"Redefinir Password"})]})})}function u(){return(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)("div",{children:"Loading..."}),children:(0,t.jsx)(o,{})})}},8076:(e,s,a)=>{"use strict";var t=a(8999);a.o(t,"useParams")&&a.d(s,{useParams:function(){return t.useParams}}),a.o(t,"usePathname")&&a.d(s,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(s,{useSearchParams:function(){return t.useSearchParams}})}},e=>{e.O(0,[441,964,358],()=>e(e.s=1271)),_N_E=e.O()}]);