(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[152],{8215:(e,s,t)=>{Promise.resolve().then(t.bind(t,9667))},9667:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var a=t(5155),r=t(2115),l=t(9946);let i=(0,l.A)("package-check",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);var c=t(9799);let n=(0,l.A)("cloud-download",[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]]),d=(0,l.A)("clock-3",[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);function o(){let[e,s]=(0,r.useState)(null),[t,l]=(0,r.useState)(!0),[o,h]=(0,r.useState)(""),[m,x]=(0,r.useState)("total");if((0,r.useEffect)(()=>{let e=localStorage.getItem("token");if(!e){h("Sem token. Fa\xe7a login novamente."),l(!1);return}fetch("/api/dashboard",{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>{if(!e.ok)throw Error();return e.json()}).then(s).catch(()=>h("Erro ao carregar dashboard")).finally(()=>l(!1))},[]),t)return(0,a.jsx)("div",{className:"text-white p-4",children:"A carregar..."});if(o||!e)return(0,a.jsxs)("div",{className:"text-red-500 p-4",children:["⚠️ ",o]});let{user:p,resumoPessoal:u,resumoEmpresa:g,viagensHoje:f}=e,j=g[m];return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-[#0f172a] via-[#10172A] to-[#0e1a2b] text-white p-6 grid grid-cols-1 md:grid-cols-6 gap-6",children:[(0,a.jsx)("div",{className:"md:col-span-6",children:(0,a.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-2",children:["Bem-vindo, ",p.name," ",(0,a.jsx)("span",{className:"animate-waving-hand",children:"\uD83D\uDC4B"})]})}),(0,a.jsxs)("div",{className:"md:col-span-2 bg-[#1e293b] rounded-2xl shadow-lg p-6 space-y-2",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[(0,a.jsx)(i,{size:20})," Resumo Pessoal"]}),(0,a.jsxs)("p",{children:["Dist\xe2ncia este m\xeas: ",(0,a.jsxs)("span",{className:"font-bold",children:[u.kmMes," km"]})]}),(0,a.jsxs)("p",{children:["Cargas este m\xeas: ",(0,a.jsx)("span",{className:"font-bold",children:u.cargas})]}),(0,a.jsxs)("p",{children:["Limite mensal: ",(0,a.jsxs)("span",{className:"font-bold",children:[u.kmMes," / ",u.limiteKm," km"]})]})]}),(0,a.jsxs)("div",{className:"md:col-span-2 bg-[#1e293b] rounded-2xl shadow-lg p-6 space-y-2",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[(0,a.jsx)(c.A,{size:20})," Resumo da Empresa"]}),(0,a.jsx)("div",{className:"flex gap-2 mb-3",children:["total","ETS2","ATS"].map(e=>(0,a.jsx)("button",{onClick:()=>x(e),className:"px-3 py-1 rounded-full text-sm font-medium transition ".concat(m===e?"bg-white text-black":"bg-gray-700 text-white"),children:e},e))}),(0,a.jsxs)("p",{children:["Dist\xe2ncia: ",(0,a.jsxs)("span",{className:"font-bold",children:[j.km.toLocaleString("pt-PT")," km"]})]}),(0,a.jsxs)("p",{children:["Cargas: ",(0,a.jsx)("span",{className:"font-bold",children:j.cargas.toLocaleString("pt-PT")})]})]}),(0,a.jsxs)("div",{className:"md:col-span-2 bg-[#1e293b] rounded-2xl shadow-lg p-6 flex flex-col justify-between gap-4",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,a.jsx)(n,{size:20})," Aplica\xe7\xe3o SIGV"]}),(0,a.jsx)("div",{className:"flex flex-col gap-3 w-full",children:(0,a.jsx)("a",{href:"#",className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded text-center",children:"Ver Mapa"})})]}),(0,a.jsxs)("div",{className:"md:col-span-6 bg-[#1e293b] rounded-2xl shadow-lg p-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[(0,a.jsx)(d,{size:20})," Viagens Hoje (Empresa)"]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,a.jsx)("thead",{className:"text-gray-300 border-b border-gray-600",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Motorista"}),(0,a.jsx)("th",{children:"Cami\xe3o"}),(0,a.jsx)("th",{children:"Origem"}),(0,a.jsx)("th",{children:"Destino"}),(0,a.jsx)("th",{children:"Dist\xe2ncia"})]})}),(0,a.jsx)("tbody",{className:"text-gray-100",children:0===f.length?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:8,className:"text-center py-4",children:"Nenhuma viagem hoje"})}):f.map((e,s)=>(0,a.jsxs)("tr",{className:"border-b border-gray-700",children:[(0,a.jsx)("td",{children:e.motorista}),(0,a.jsx)("td",{children:e.camiao}),(0,a.jsx)("td",{children:e.origem}),(0,a.jsx)("td",{children:e.destino}),(0,a.jsxs)("td",{children:[e.distancia," km"]})]},s))})]})})]})]})}},9799:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])},9946:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});var a=t(2115);let r=e=>{let s=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,t)=>t?t.toUpperCase():s.toLowerCase());return s.charAt(0).toUpperCase()+s.slice(1)},l=function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,a.forwardRef)((e,s)=>{let{color:t="currentColor",size:r=24,strokeWidth:c=2,absoluteStrokeWidth:n,className:d="",children:o,iconNode:h,...m}=e;return(0,a.createElement)("svg",{ref:s,...i,width:r,height:r,stroke:t,strokeWidth:n?24*Number(c)/Number(r):c,className:l("lucide",d),...!o&&!(e=>{for(let s in e)if(s.startsWith("aria-")||"role"===s||"title"===s)return!0})(m)&&{"aria-hidden":"true"},...m},[...h.map(e=>{let[s,t]=e;return(0,a.createElement)(s,t)}),...Array.isArray(o)?o:[o]])}),n=(e,s)=>{let t=(0,a.forwardRef)((t,i)=>{let{className:n,...d}=t;return(0,a.createElement)(c,{ref:i,iconNode:s,className:l("lucide-".concat(r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),n),...d})});return t.displayName=r(e),t}}},e=>{e.O(0,[441,964,358],()=>e(e.s=8215)),_N_E=e.O()}]);